<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>cljs.build.api - clojurescript API documentation</title>
    <link rel="icon" href="static/favicon.png" />
    <link rel="shortcut icon" href="static/favicon.png" />
    <link rel="stylesheet" href="static/clojure.css" type="text/css" media="all" />
    <link rel="stylesheet" href="static/wiki.css" type="text/css" media="all" />
    <link rel="stylesheet" href="static/internal.css" type="text/css" media="all" />
    <style>.menuWrapper{height: 36px;}</style>
  </head>
<!--
This document was auto-generated from the source by the clojure autodoc system.
To report errors or ask questions about the overall documentation structure, formatting,
etc., contact Tom Faulhaber (google mail name: tomfaulhaber).
For errors in the documentation of a particular namespace, contact the author of that
namespace.
-->
  <body>
    <div id="AllContentContainer">
      <div id="Header">
	<a href="index.html" id="Logo"><img src="static/clojure-icon.gif" width="100" height="100" alt="Clojure" /></a>
	<h1><a href="index.html" id="page-header" title="page header title">clojurescript</a></h1>
      </div>
      <div id="leftcolumn"><div style="text-align: center;"></div>
<div class="menu">
  <div class="WikiCustomNav WikiElement wiki">
    <span class="toc-header"><span id="project-name">clojurescript</span> <span id="version"></span> API</span><br />
    <ul>
      <li><a href="index.html" class="wiki_link">Overview</a></li>
      <li><a href="api-index.html" class="wiki_link">API Index</a></li>
    </ul>
    <div class="NamespaceTOC">
      <span class="toc-header">Namespaces</span>
      <ul id="left-sidebar-list">
        <li><a class="wiki_link" href="cljs.analyzer-api.html">cljs.analyzer</a></li><li><a class="wiki_link" href="cljs.build.api-api.html">cljs.build.api</a></li><li><a class="wiki_link" href="cljs.closure-api.html">cljs.closure</a></li><li><a class="wiki_link" href="cljs.compiler-api.html">cljs.compiler</a></li><li><a class="wiki_link" href="cljs.core-api.html">cljs.core</a></li><li><a class="wiki_link" href="cljs.env-api.html">cljs.env</a></li><li><a class="wiki_link" href="cljs.js-api.html">cljs.js</a></li><li><a class="wiki_link" href="cljs.js-deps-api.html">cljs.js-deps</a></li><li><a class="wiki_link" href="cljs.pprint-api.html">cljs.pprint</a></li><li><a class="wiki_link" href="cljs.repl-api.html">cljs.repl</a></li><li><a class="wiki_link" href="cljs.source-map-api.html">cljs.source-map</a></li><li><a class="wiki_link" href="cljs.spec-api.html">cljs.spec</a></li><li><a class="wiki_link" href="cljs.stacktrace-api.html">cljs.stacktrace</a></li><li><a class="wiki_link" href="cljs.support-api.html">cljs.support</a></li><li><a class="wiki_link" href="cljs.tagged-literals-api.html">cljs.tagged-literals</a></li><li><a class="wiki_link" href="cljs.test-api.html">cljs.test</a></li><li><a class="wiki_link" href="cljs.util-api.html">cljs.util</a></li>
      </ul>
    </div>
    
    <a class="wiki_link" href="http://clojure.org">Clojure Home</a>
  </div>
</div>
</div>
      <div id="rightcolumn">
	<div id="Content">
	  <div class="contentBox"><div class="innerContentBox">
              <div class="wiki wikiPage" id="content_view">
                <div id="right-sidebar"><div id="toc">
  <h1 class="nopad">Table of Contents</h1>
  <div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#toc0">Overview</a>
    
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#"></a>
    
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#"></a>
    
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#var-section">Vars and Functions</a>
    <div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/add-dependencies" class="toc-entry-anchor">add-dependencies</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/add-implicit-options" class="toc-entry-anchor">add-implicit-options</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/build" class="toc-entry-anchor">build</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/cljs-dependents-for-macro-namespaces" class="toc-entry-anchor">cljs-dependents-for-macro-namespaces</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/compile" class="toc-entry-anchor">compile</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/goog-dep-string" class="toc-entry-anchor">goog-dep-string</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/inputs" class="toc-entry-anchor">inputs</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/mark-cljs-ns-for-recompile!" class="toc-entry-anchor">mark-cljs-ns-for-recompile!</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/ns-&gt;location" class="toc-entry-anchor">ns-&gt;location</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/ns-&gt;source" class="toc-entry-anchor">ns-&gt;source</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/output-unoptimized" class="toc-entry-anchor">output-unoptimized</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/parse-js-ns" class="toc-entry-anchor">parse-js-ns</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/source-on-disk" class="toc-entry-anchor">source-on-disk</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/src-file-&gt;goog-require" class="toc-entry-anchor">src-file-&gt;goog-require</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/src-file-&gt;target-file" class="toc-entry-anchor">src-file-&gt;target-file</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/target-file-for-cljs-ns" class="toc-entry-anchor">target-file-for-cljs-ns</a>
      
    </div><div class="toc-entry" style="margin-left: 1em;">
      <a href="#cljs.build.api/watch" class="toc-entry-anchor">watch</a>
      
    </div>
  </div><div class="toc-section" style="margin-left: 1em;">
    <a style="margin-top: 3px;" href="#"></a>
    
  </div>
</div>
</div>
                <div id="content-tag"><h1 id="overview">API for <span id="cljs.build.api">cljs.build.api</span>
  - <span id="header-project">clojurescript</span> <span id="header-version"></span>
  </h1>

<br />Full namespace name: <span id="long-name">cljs.build.api</span>
<p></p>
<h2>Overview</h2>

<pre id="namespace-docstr">This is intended to be a stable api for those who need programmatic access
to ClojureScript's project building facilities.

For example: a build script may need to how to invalidate compiled
files so that they will be recompiled.</pre>


<br />



<div id="var-section">
  <p></p>
  <h2>Public Variables and Functions</h2>
  <div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/add-dependencies">add-dependencies</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (add-dependencies opts &amp; ijss)
</pre>
    <pre id="var-docstr">Given one or more IJavaScript objects in dependency order, produce
a new sequence of IJavaScript objects which includes the input list
plus all dependencies in dependency order.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/add-implicit-options">add-implicit-options</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (add-implicit-options opts)
</pre>
    <pre id="var-docstr">Given a valid map of build options add any standard implicit options. For
example :optimizations :none implies :cache-analysis true and :source-map
true.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/build">build</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (build source opts)
       (build source opts compiler-env)
</pre>
    <pre id="var-docstr">Given a source which can be compiled, produce runnable JavaScript.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/cljs-dependents-for-macro-namespaces">cljs-dependents-for-macro-namespaces</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (cljs-dependents-for-macro-namespaces namespaces)
       (cljs-dependents-for-macro-namespaces state namespaces)
</pre>
    <pre id="var-docstr">Takes a list of Clojure (.clj) namespaces that define macros and
returns a list ClojureScript (.cljs) namespaces that depend on those macro
namespaces.

For example where example.macros is defined in the clojure file
"example/macros.clj" and both 'example.core and 'example.util are
ClojureScript namespaces that require and use the macros from
'example.macros :
(cljs-dependents-for-macro-namespaces 'example.macros) -&gt;
('example.core 'example.util)</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/compile">compile</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (compile opts compilable)
       (compile state opts compilable)
</pre>
    <pre id="var-docstr">Given a Compilable, compile it and return an IJavaScript.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/goog-dep-string">goog-dep-string</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (goog-dep-string opts ijs)
</pre>
    <pre id="var-docstr">Given compiler options and a IJavaScript instance return the corresponding
goog.addDependency string</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/inputs">inputs</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (inputs &amp; xs)
</pre>
    <pre id="var-docstr">Given a list of directories and files, return a compilable object that may
be passed to build or watch.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/mark-cljs-ns-for-recompile!">mark-cljs-ns-for-recompile!</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (mark-cljs-ns-for-recompile! ns-sym)
       (mark-cljs-ns-for-recompile! ns-sym output-dir)
</pre>
    <pre id="var-docstr">Backdates a cljs target file so that it the cljs compiler will recompile it.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/ns-&gt;location">ns-&gt;location</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (ns-&gt;location ns)
       (ns-&gt;location ns compiler-env)
</pre>
    <pre id="var-docstr">Given a namespace and compilation environment return the relative path and
uri of the corresponding source regardless of the source language extension:
.cljs, .cljc, .js. Returns a map containing :relative-path a string, and
:uri a URL.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/ns-&gt;source">ns-&gt;source</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (ns-&gt;source ns)
</pre>
    <pre id="var-docstr">Given a namespace as a symbol return the corresponding resource if it exists.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/output-unoptimized">output-unoptimized</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (output-unoptimized opts &amp; sources)
</pre>
    <pre id="var-docstr">Ensure that all JavaScript source files are on disk (not in jars),
write the goog deps file including only the libraries that are being
used and write the deps file for the current project.

The deps file for the current project will include third-party
libraries.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/parse-js-ns">parse-js-ns</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (parse-js-ns f)
</pre>
    <pre id="var-docstr">Given a Google Closure style JavaScript file or resource return the namespace
information for the given file. Only returns the value extracted from the
first provide statement.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/source-on-disk">source-on-disk</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (source-on-disk opts ijs)
</pre>
    <pre id="var-docstr">Ensure that the given IJavaScript exists on disk in the output directory.
Return updated IJavaScript with the new location if necessary.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/src-file-&gt;goog-require">src-file-&gt;goog-require</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (src-file-&gt;goog-require src)
       (src-file-&gt;goog-require src options)
       (src-file-&gt;goog-require state src options)
</pre>
    <pre id="var-docstr">Given a ClojureScript or Google Closure style JavaScript source file return
the goog.require statement for it.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/src-file-&gt;target-file">src-file-&gt;target-file</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (src-file-&gt;target-file src)
       (src-file-&gt;target-file src opts)
       (src-file-&gt;target-file state src opts)
</pre>
    <pre id="var-docstr">Given a ClojureScript source file return the target file. May optionally
provide build options with :output-dir specified.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/target-file-for-cljs-ns">target-file-for-cljs-ns</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (target-file-for-cljs-ns ns-sym)
       (target-file-for-cljs-ns ns-sym output-dir)
</pre>
    <pre id="var-docstr">Given an output directory and a clojurescript namespace return the
compilation target file for that namespace.

For example:
(target-file-from-cljs-ns "resources/out" 'example.core) -&gt;
&lt;File: "resources/out/example/core.js"&gt;</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div><div id="var-entry">
    <br />
    <hr />
    <h2 id="cljs.build.api/watch">watch</h2>
    <span id="var-type">function</span><br />
    <pre id="var-usage">Usage: (watch source opts)
       (watch source opts compiler-env)
       (watch source opts compiler-env stop)
</pre>
    <pre id="var-docstr">Given a source which can be compiled, watch it for changes to produce.</pre>
    <pre id="var-specs"></pre>
    
    
    
  </div>
</div>


</div>
              </div>
            </div>
          </div>
	</div>
	<div id="foot">
	  <div id="copyright" style="text-align: center;">No copyright info </div>
	</div>
      </div>
      <div id="DesignedBy">Logo &amp; site design by <a href="http://www.tomhickey.com" title="Visit Tom Hickey's website.">Tom Hickey</a>.<br />
      Clojure auto-documentation system by Tom Faulhaber.</div>
    </div>
    <!-- /AllContentContainer -->
  </body>

</html>